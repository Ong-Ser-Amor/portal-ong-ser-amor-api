{
	"name": "Portal-ONG-Ser-Amor-API",

	// Aponta para o conjunto de arquivos docker-compose na raiz do projeto.
	// O Docker irá mesclá-los, para criar o contêiner de desenvolvimento.
	"dockerComposeFile": [
		"../docker-compose.yml",
		"../docker-compose.override.yml"
	],

	// O serviço ao qual o VS Code deve se conectar.
	"service": "api",

	// A pasta que será aberta dentro do contêiner.
	"workspaceFolder": "/usr/src/app",

  // Ação a ser tomada quando a janela do VS Code for fechada.
	"shutdownAction": "stopCompose",

  // Features que serão instaladas no contêiner.
  // Mais informações: https://containers.dev/features
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
			"installZsh": true,
			"configureZshAsDefaultShell": true,
			"installOhMyZsh": true,
			"installOhMyZshConfig": true,
			"upgradePackages": true,
			"username": "automatic",
			"userUid": "automatic",
			"userGid": "automatic"
		},
		"ghcr.io/stuartleeks/dev-container-features/shell-history:0": {}
	},

	// Use 'forwardPorts' para criar uma lista de portas dentro do contêiner disponíveis localmente.
	// Garante que a porta 3000 (API) e 5432 (Banco) fiquem acessíveis no seu PC
  "forwardPorts": [3000, 5432],
  "portsAttributes": {
    "3000": {
      "label": "API",
      "onAutoForward": "notify"
    },
    "5432": {
      "label": "PostgreSQL",
      "onAutoForward": "silent"
    }
  },

	// Uncomment the next line if you want start specific services in your Docker Compose config.
	// "runServices": [],

	// Descomente a próxima linha se quiser manter seus contêineres em execução após o encerramento do VS Code.
	// "shutdownAction": "none",

	// Descomente a próxima linha para executar comandos após a criação do contêiner.
	// "postCreateCommand": "cat /etc/os-release",

	// Customizações do VS Code (extensões e configurações)
	"customizations": {
    "vscode": {
      // Extensões que serão instaladas automaticamente no contêiner.
      "extensions": [
        // Essenciais para Qualidade de Código
        "editorconfig.editorconfig",
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
      ],
      // Configurações específicas do VS Code para o contêiner.
      "settings": {
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode"
      }
    }
  }

	// Descomente para conectar-se como um usuário existente diferente do padrão do contêiner. Mais informações: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "devcontainer"
}
